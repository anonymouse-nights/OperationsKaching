<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Town Trade !</title>
  <meta http-equiv="Cache-control" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <!-- =========================================================
       MAIN GAME WRAPPER
       Everything in the game lives inside this one div.
       ========================================================= -->
  <div id="tab_town_trade">

    <!-- =========================================================
         RIGHT PANEL
         Shows ASCII art (business + town features)
         ========================================================= -->
    <div class="panelRight">

      <!-- PLAYER BUSINESS ASCII -->
      <pre id="ascii_display" class="hidden"></pre>
      <span id="ascii_caption" class="tiny"></span>

      <hr style="margin:10px 0;" />

      <!-- TOWN FEATURES ASCII (Gazette + Bank) -->
      <div id="town_features" class="hidden">
        <pre id="ascii_gazette" class="hidden"></pre>
        <pre id="ascii_bank" class="hidden"></pre>
      </div>

    </div>

    <!-- =========================================================
         LEFT PANEL
         Buttons, stats, story text, upgrades, and the log
         ========================================================= -->
    <div class="panelLeft">

      <!-- Save/Load/Restart -->
      <button class="home_button" id="saveButton" onclick="saveGame();" style="visibility:visible">Save</button>
      <span id="saveStatus" class="tiny"></span><br/>

      <button class="home_button" id="loadButton" onclick="loadGame();" style="visibility:visible">Load</button>
      <button class="home_button" id="restartButton" onclick="restartGame();" style="visibility:visible">Restart Game</button>
      <br/><br/>

      <!-- Start setup block -->
      <span id="setup_block">
        <b>Pick a role to begin:</b><br/>
        <select id="roleSelect">
          <option value="general_store">General Store</option>
          <option value="blacksmith">Blacksmith</option>
          <option value="boarding_house">Boarding House</option>
        </select>

        <button class="home_button" onclick="startGame();">Start game</button><br/>
        <span class="tiny muted">Inspired by Candy Box &amp; Candy Box 2</span>
        <br/><br/>
      </span>

      <!-- Main stat lines -->
      <span id="role_line" class="hidden"></span><br/>
      <span id="money_line" class="hidden"></span><br/>
      <span id="rep_line" class="hidden"></span><br/>
      <span id="stage_line" class="hidden"></span><br/>
      <span id="income_line" class="hidden"></span><br/><br/>

      <!-- Story line -->
      <span id="story_line" class="hidden"></span><br/><br/>

      <!-- Action buttons -->
      <button class="home_button hidden" id="serveBtn" onclick="serveCustomer();">Serve a customer</button><br/>
      <button class="home_button hidden" id="goodDeedBtn" onclick="doGoodDeed();">Help a customer (reputation)</button><br/>
      <button class="home_button hidden" id="advertiseBtn" onclick="advertise();">Run a small advertisement</button><br/>
      <button class="home_button hidden" id="loanBtn" onclick="takeLoan();">Take a small bank loan</button><br/>
      <button class="home_button hidden" id="repayBtn" onclick="repayLoan();">Repay some debt</button><br/>
      <br/>

      <!-- Upgrades -->
      <span id="upgrade_block" class="hidden">
        <b><span class="notice-yellow">Upgrades:</span></b><br/>
        <button class="home_button upgrade_button hidden" id="upgradeToStallBtn" onclick="buyUpgrade('stall');">Upgrade: Cart → Stall</button><br/>
        <button class="home_button upgrade_button hidden" id="upgradeToStoreBtn" onclick="buyUpgrade('storefront');">Upgrade: Stall → Storefront</button><br/>
        <button class="home_button upgrade_button hidden" id="hireHelpBtn" onclick="buyUpgrade('helper');">Hire steady help</button><br/>
        <button class="home_button upgrade_button hidden" id="unlockNewsBtn" onclick="buyUpgrade('newspaper');">Support the Town Gazette</button><br/>
        <br/>
      </span>

      <!-- Log -->
      <pre id="log" class="hidden"></pre>

    </div>

    <br class="clear" />
  </div>

  <!-- IMPORTANT: ASCII file must load BEFORE game.js -->
  <script src="ascii.js"></script>
  <script src="game.js"></script>

</body>
</html>
